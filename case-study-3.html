<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Geospatial Competitor Analysis - Case Study</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/themes/prism-tomorrow.min.css">
</head>
<body>
    <nav class="navbar">
        <div class="nav-container">
            <a href="index.html" class="nav-brand">MP</a>
            <div class="nav-menu" id="nav-menu">
                <a href="index.html" class="nav-link">Home</a>
                <a href="index.html#about" class="nav-link">About</a>
                <a href="index.html#experience" class="nav-link">Experience</a>
                <a href="index.html#projects" class="nav-link">Projects</a>
                <a href="index.html#contact" class="nav-link">Contact</a>
            </div>
            <div class="hamburger" id="hamburger">
                <span class="bar"></span>
                <span class="bar"></span>
                <span class="bar"></span>
            </div>
        </div>
    </nav>

    <section class="case-study-hero">
        <div class="container">
            <div class="case-hero-content">
                <div class="breadcrumb">
                    <a href="index.html">Home</a> → <span>Case Studies</span> → <span>Geospatial Analysis</span>
                </div>
                <h1>Automated Competitor Location Analysis</h1>
                <p class="case-subtitle">Large-scale geospatial analysis using OpenStreetMap data to identify business opportunities within 2km radius of strategic locations</p>
                <div class="case-meta">
                    <div class="meta-item">
                        <i class="fas fa-calendar"></i>
                        <span>Project Duration: 3 days</span>
                    </div>
                    <div class="meta-item">
                        <i class="fas fa-map-marker-alt"></i>
                        <span>Locations Analyzed: 1000+</span>
                    </div>
                    <div class="meta-item">
                        <i class="fas fa-chart-line"></i>
                        <span>Impact: 85% reduction in manual research</span>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section class="case-content">
        <div class="container">
            <div class="case-grid">
                <div class="case-main">
                    <div class="case-section">
                        <h2><i class="fas fa-lightbulb"></i> Business Challenge</h2>
                        <p>A European retail chain needed to analyze competitor density around potential new store locations. Manual research was taking weeks per market, and traditional GIS solutions were too expensive and complex for the scale required.</p>
                        
                        <div class="challenge-list">
                            <div class="challenge-item">
                                <i class="fas fa-clock"></i>
                                <div>
                                    <h4>Time-Intensive Manual Research</h4>
                                    <p>Market research team spending 40+ hours per region manually identifying competitors using Google Maps</p>
                                </div>
                            </div>
                            <div class="challenge-item">
                                <i class="fas fa-euro-sign"></i>
                                <div>
                                    <h4>Expensive GIS Solutions</h4>
                                    <p>Commercial geospatial software licensing costs were prohibitive for one-time analysis projects</p>
                                </div>
                            </div>
                            <div class="challenge-item">
                                <i class="fas fa-globe-europe"></i>
                                <div>
                                    <h4>Multi-Market Coverage</h4>
                                    <p>Need to analyze competitor landscapes across multiple European markets simultaneously</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="case-section">
                        <h2><i class="fas fa-cogs"></i> Solution Architecture</h2>
                        <p>I developed a Python-based automated solution leveraging OpenStreetMap's Overpass API to perform large-scale geospatial competitor analysis.</p>
                        
                        <div class="architecture-diagram">
                            <div class="arch-component">
                                <i class="fas fa-file-csv"></i>
                                <h4>Location Data</h4>
                                <p>CSV input with coordinates</p>
                            </div>
                            <div class="arch-arrow">→</div>
                            <div class="arch-component">
                                <i class="fas fa-globe"></i>
                                <h4>Overpass API</h4>
                                <p>OpenStreetMap queries</p>
                            </div>
                            <div class="arch-arrow">→</div>
                            <div class="arch-component">
                                <i class="fas fa-code"></i>
                                <h4>Python Processing</h4>
                                <p>Data extraction & analysis</p>
                            </div>
                            <div class="arch-arrow">→</div>
                            <div class="arch-component">
                                <i class="fas fa-table"></i>
                                <h4>Structured Output</h4>
                                <p>Competitor database</p>
                            </div>
                        </div>
                    </div>

                    <div class="case-section">
                        <h2><i class="fas fa-code"></i> Implementation</h2>
                        
                        <h3>Core Geospatial Analysis Script</h3>
                        <p>The main Python script processes location coordinates and queries the Overpass API for nearby competitors:</p>
                        
                        <div class="code-block">
                            <div class="code-header">
                                <span class="code-title">competitor_analysis.py</span>
                                <button class="copy-btn" onclick="copyCode(this)">
                                    <i class="fas fa-copy"></i>
                                </button>
                            </div>
                            <pre><code class="language-python">import overpy
import pandas as pd
import time
import logging
from typing import List, Dict, Optional

# Configure logging
logging.basicConfig(level=logging.INFO, format='%(asctime)s - %(levelname)s - %(message)s')
logger = logging.getLogger(__name__)

class CompetitorAnalyzer:
    """
    Automated competitor location analysis using OpenStreetMap data
    """
    
    def __init__(self, radius_meters: int = 2000):
        """
        Initialize analyzer with search radius
        
        Args:
            radius_meters: Search radius in meters (default: 2000m = 2km)
        """
        self.api = overpy.Overpass()
        self.radius = radius_meters
        self.request_delay = 1  # Seconds between API requests
        
    def load_locations(self, file_path: str, delimiter: str = ";") -> pd.DataFrame:
        """
        Load location data from CSV file
        
        Args:
            file_path: Path to CSV file with location data
            delimiter: CSV delimiter character
            
        Returns:
            DataFrame with location data
        """
        try:
            df = pd.read_csv(file_path, sep=delimiter)
            df.columns = df.columns.str.strip()  # Clean column names
            
            required_columns = ['location_id', 'lat', 'lon']
            if not all(col in df.columns for col in required_columns):
                raise ValueError(f"CSV must contain columns: {required_columns}")
                
            logger.info(f"Loaded {len(df)} locations from {file_path}")
            return df
            
        except Exception as e:
            logger.error(f"Failed to load locations: {e}")
            raise

    def build_overpass_query(self, lat: float, lon: float) -> str:
        """
        Build Overpass API query for fuel stations
        
        Args:
            lat: Latitude coordinate
            lon: Longitude coordinate
            
        Returns:
            Overpass query string
        """
        query = f"""
        (
          node["amenity"="fuel"](around:{self.radius},{lat},{lon});
          way["amenity"="fuel"](around:{self.radius},{lat},{lon});
          relation["amenity"="fuel"](around:{self.radius},{lat},{lon});
        );
        out center;
        """
        return query

    def extract_competitor_data(self, result: overpy.Result) -> List[Dict]:
        """
        Extract competitor information from Overpass API result
        
        Args:
            result: Overpass API query result
            
        Returns:
            List of competitor dictionaries
        """
        competitors = []
        
        # Process nodes (point locations)
        for node in result.nodes:
            competitors.append({
                "competitor_name": node.tags.get("name", "Unknown"),
                "competitor_brand": node.tags.get("brand", "Unknown"),
                "competitor_lat": float(node.lat),
                "competitor_lon": float(node.lon),
                "competitor_type": "node",
                "osm_id": node.id
            })
        
        # Process ways (area polygons)
        for way in result.ways:
            if hasattr(way, 'center_lat') and hasattr(way, 'center_lon'):
                competitors.append({
                    "competitor_name": way.tags.get("name", "Unknown"),
                    "competitor_brand": way.tags.get("brand", "Unknown"),
                    "competitor_lat": float(way.center_lat),
                    "competitor_lon": float(way.center_lon),
                    "competitor_type": "way",
                    "osm_id": way.id
                })
        
        # Process relations (complex geometries)
        for relation in result.relations:
            if hasattr(relation, 'center_lat') and hasattr(relation, 'center_lon'):
                competitors.append({
                    "competitor_name": relation.tags.get("name", "Unknown"),
                    "competitor_brand": relation.tags.get("brand", "Unknown"),
                    "competitor_lat": float(relation.center_lat),
                    "competitor_lon": float(relation.center_lon),
                    "competitor_type": "relation",
                    "osm_id": relation.id
                })
        
        return competitors

    def find_competitors_near_location(self, location_id: str, lat: float, lon: float) -> List[Dict]:
        """
        Find all competitors within radius of given location
        
        Args:
            location_id: Unique identifier for the location
            lat: Latitude coordinate
            lon: Longitude coordinate
            
        Returns:
            List of competitor records with location context
        """
        try:
            # Build and execute Overpass query
            query = self.build_overpass_query(lat, lon)
            result = self.api.query(query)
            
            # Extract competitor data
            competitors = self.extract_competitor_data(result)
            
            # Add location context to each competitor
            for competitor in competitors:
                competitor.update({
                    "location_id": location_id,
                    "location_lat": lat,
                    "location_lon": lon,
                    "search_radius_m": self.radius
                })
            
            logger.info(f"Found {len(competitors)} competitors near location {location_id}")
            return competitors
            
        except Exception as e:
            logger.error(f"API error for location {location_id} ({lat}, {lon}): {e}")
            return []

    def analyze_all_locations(self, locations_df: pd.DataFrame) -> pd.DataFrame:
        """
        Analyze competitors for all locations in DataFrame
        
        Args:
            locations_df: DataFrame with location coordinates
            
        Returns:
            DataFrame with all competitor analysis results
        """
        all_competitors = []
        failed_locations = []
        
        for index, row in locations_df.iterrows():
            location_id = row["location_id"]
            lat = row["lat"]
            lon = row["lon"]
            
            # Find competitors for this location
            competitors = self.find_competitors_near_location(location_id, lat, lon)
            
            if competitors:
                all_competitors.extend(competitors)
            else:
                failed_locations.append(location_id)
            
            # Rate limiting to be respectful to Overpass API
            time.sleep(self.request_delay)
            
            # Progress reporting
            if (index + 1) % 50 == 0:
                logger.info(f"Processed {index + 1}/{len(locations_df)} locations")
        
        if failed_locations:
            logger.warning(f"Failed to process {len(failed_locations)} locations: {failed_locations[:10]}")
        
        # Convert to DataFrame
        results_df = pd.DataFrame(all_competitors)
        logger.info(f"Analysis complete: {len(results_df)} competitor records generated")
        
        return results_df

    def save_results(self, results_df: pd.DataFrame, output_path: str) -> None:
        """
        Save analysis results to CSV file
        
        Args:
            results_df: DataFrame with competitor analysis results
            output_path: Output file path
        """
        try:
            results_df.to_csv(output_path, index=False)
            logger.info(f"Results saved to {output_path}")
        except Exception as e:
            logger.error(f"Failed to save results: {e}")
            raise

def main():
    """
    Main execution function
    """
    # Initialize analyzer
    analyzer = CompetitorAnalyzer(radius_meters=2000)
    
    # Load location data
    locations_file = "data/all_locations.csv"
    locations_df = analyzer.load_locations(locations_file, delimiter=";")
    
    # Perform competitor analysis
    logger.info("Starting competitor analysis...")
    results_df = analyzer.analyze_all_locations(locations_df)
    
    # Save results
    output_file = "output/competitor_analysis_results.csv"
    analyzer.save_results(results_df, output_file)
    
    # Generate summary statistics
    print("\n=== Analysis Summary ===")
    print(f"Locations processed: {locations_df['location_id'].nunique()}")
    print(f"Total competitors found: {len(results_df)}")
    print(f"Average competitors per location: {len(results_df) / locations_df['location_id'].nunique():.1f}")
    print(f"Top competitor brands:")
    print(results_df['competitor_brand'].value_counts().head())

if __name__ == "__main__":
    main()</code></pre>
                        </div>

                        <h3>Data Processing Pipeline</h3>
                        <p>The solution processes location data through several stages:</p>
                        
                        <div class="pipeline-stages">
                            <div class="stage">
                                <div class="stage-number">1</div>
                                <div class="stage-content">
                                    <h4>Data Ingestion</h4>
                                    <p>Load location coordinates from CSV files with error handling and data validation</p>
                                </div>
                            </div>

                            <div class="stage">
                                <div class="stage-number">2</div>
                                <div class="stage-content">
                                    <h4>API Query Generation</h4>
                                    <p>Build dynamic Overpass queries for each location with configurable search radius</p>
                                </div>
                            </div>

                            <div class="stage">
                                <div class="stage-number">3</div>
                                <div class="stage-content">
                                    <h4>Geospatial Search</h4>
                                    <p>Execute API queries to find fuel stations within 2km radius of each location</p>
                                </div>
                            </div>

                            <div class="stage">
                                <div class="stage-number">4</div>
                                <div class="stage-content">
                                    <h4>Data Enrichment</h4>
                                    <p>Extract competitor details including name, brand, coordinates, and OSM metadata</p>
                                </div>
                            </div>

                            <div class="stage">
                                <div class="stage-number">5</div>
                                <div class="stage-content">
                                    <h4>Results Aggregation</h4>
                                    <p>Combine all findings into structured dataset with location context</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="case-section">
                        <h2><i class="fas fa-chart-bar"></i> Key Insights & Results</h2>
                        
                        <div class="results-grid">
                            <div class="result-card">
                                <i class="fas fa-clock"></i>
                                <h3>85% Time Reduction</h3>
                                <p>Automated analysis of 1000+ locations completed in 3 hours vs. weeks of manual research</p>
                            </div>
                            <div class="result-card">
                                <i class="fas fa-map-marker-alt"></i>
                                <h3>5,000+ Competitors</h3>
                                <p>Identified comprehensive competitor database across European markets</p>
                            </div>
                            <div class="result-card">
                                <i class="fas fa-dollar-sign"></i>
                                <h3>$0 API Costs</h3>
                                <p>Leveraged free OpenStreetMap data instead of expensive commercial APIs</p>
                            </div>
                            <div class="result-card">
                                <i class="fas fa-chart-line"></i>
                                <h3>Market Insights</h3>
                                <p>Revealed competitor density patterns and market saturation levels</p>
                            </div>
                        </div>

                        <div class="insights-section">
                            <h3>Business Intelligence Generated</h3>
                            
                            <div class="insight-item">
                                <h4><i class="fas fa-trophy"></i> Market Opportunity Identification</h4>
                                <p>Analysis revealed 15% of potential locations had zero competitors within 2km radius, indicating prime expansion opportunities.</p>
                            </div>

                            <div class="insight-item">
                                <h4><i class="fas fa-balance-scale"></i> Competitive Density Mapping</h4>
                                <p>Average of 3.2 competitors per location with significant variation between urban (5.8) and rural (1.4) areas.</p>
                            </div>

                            <div class="insight-item">
                                <h4><i class="fas fa-building"></i> Brand Concentration Analysis</h4>
                                <p>Shell and BP dominated with 35% market share, while independent operators represented 40% of locations.</p>
                            </div>
                        </div>
                    </div>

                    <div class="case-section">
                        <h2><i class="fas fa-cogs"></i> Technical Implementation Details</h2>
                        
                        <div class="tech-details">
                            <div class="detail-item">
                                <h4><i class="fas fa-globe"></i> Overpass API Integration</h4>
                                <p>Utilized the powerful Overpass Query Language to search OpenStreetMap data efficiently.</p>
                                <div class="code-snippet">
                                    <code>node["amenity"="fuel"](around:2000,{lat},{lon})</code>
                                </div>
                            </div>

                            <div class="detail-item">
                                <h4><i class="fas fa-shield-alt"></i> Error Handling & Resilience</h4>
                                <p>Implemented comprehensive error handling for API timeouts, server overload, and malformed responses.</p>
                                <div class="feature-list">
                                    <span>Automatic retry logic</span>
                                    <span>Rate limiting compliance</span>
                                    <span>Graceful failure recovery</span>
                                </div>
                            </div>

                            <div class="detail-item">
                                <h4><i class="fas fa-tachometer-alt"></i> Performance Optimization</h4>
                                <p>Optimized for large-scale processing with configurable delays and batch processing capabilities.</p>
                                <div class="feature-list">
                                    <span>Configurable request delays</span>
                                    <span>Progress tracking</span>
                                    <span>Memory-efficient processing</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="case-section">
                        <h2><i class="fas fa-database"></i> Data Schema & Output</h2>
                        
                        <h3>Output Data Structure</h3>
                        <p>The analysis generates a comprehensive dataset with the following schema:</p>
                        
                        <div class="schema-table">
                            <table>
                                <thead>
                                    <tr>
                                        <th>Field</th>
                                        <th>Description</th>
                                        <th>Data Type</th>
                                        <th>Example</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>location_id</td>
                                        <td>Unique identifier for target location</td>
                                        <td>String</td>
                                        <td>LOC_001</td>
                                    </tr>
                                    <tr>
                                        <td>location_lat</td>
                                        <td>Target location latitude</td>
                                        <td>Float</td>
                                        <td>52.2810100</td>
                                    </tr>
                                    <tr>
                                        <td>location_lon</td>
                                        <td>Target location longitude</td>
                                        <td>Float</td>
                                        <td>20.9226470</td>
                                    </tr>
                                    <tr>
                                        <td>competitor_name</td>
                                        <td>Name of competitor business</td>
                                        <td>String</td>
                                        <td>Shell Express</td>
                                    </tr>
                                    <tr>
                                        <td>competitor_brand</td>
                                        <td>Brand/franchise identifier</td>
                                        <td>String</td>
                                        <td>Shell</td>
                                    </tr>
                                    <tr>
                                        <td>competitor_lat</td>
                                        <td>Competitor latitude coordinate</td>
                                        <td>Float</td>
                                        <td>52.2847039</td>
                                    </tr>
                                    <tr>
                                        <td>competitor_lon</td>
                                        <td>Competitor longitude coordinate</td>
                                        <td>Float</td>
                                        <td>20.9277460</td>
                                    </tr>
                                    <tr>
                                        <td>competitor_type</td>
                                        <td>OpenStreetMap object type</td>
                                        <td>String</td>
                                        <td>node</td>
                                    </tr>
                                    <tr>
                                        <td>search_radius_m</td>
                                        <td>Search radius in meters</td>
                                        <td>Integer</td>
                                        <td>2000</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>

                    <div class="case-section">
                        <h2><i class="fas fa-graduation-cap"></i> Key Technical Learnings</h2>
                        
                        <div class="learning-item">
                            <h4>OpenStreetMap Data Quality</h4>
                            <p>Learned that OSM data quality varies significantly by region, with Western European coverage being excellent but some Eastern European areas having gaps. Implemented fallback strategies for incomplete data.</p>
                        </div>
                        
                        <div class="learning-item">
                            <h4>API Rate Limiting Best Practices</h4>
                            <p>Overpass API has strict rate limiting (especially during peak hours). Implementing respectful delays and error handling for "Server load too high" responses was crucial for reliable operation.</p>
                        </div>
                        
                        <div class="learning-item">
                            <h4>Geospatial Data Processing</h4>
                            <p>Understanding the differences between OSM nodes, ways, and relations was essential for comprehensive competitor detection. Each geometry type requires different coordinate extraction methods.</p>
                        </div>
                    </div>

                    <div class="case-section">
                        <h2><i class="fas fa-forward"></i> Future Enhancements</h2>
                        
                        <ul class="enhancement-list">
                            <li><strong>Real-time Monitoring:</strong> Set up automated tracking of competitor changes over time</li>
                            <li><strong>Distance Calculations:</strong> Add precise distance measurements using Haversine formula</li>
                            <li><strong>Market Share Analysis:</strong> Calculate competitive market share by geographic region</li>
                            <li><strong>Visualization Dashboard:</strong> Create interactive maps showing competitor density heat maps</li>
                            <li><strong>Multi-Industry Support:</strong> Extend analysis to other business types (restaurants, pharmacies, etc.)</li>
                            <li><strong>Demographic Integration:</strong> Combine with population density and demographic data</li>
                        </ul>
                    </div>
                </div>

                <div class="case-sidebar">
                    <div class="sidebar-section">
                        <h3>Technologies Used</h3>
                        <div class="tech-stack">
                            <span class="tech-item">Python 3.8+</span>
                            <span class="tech-item">Overpass API</span>
                            <span class="tech-item">OpenStreetMap</span>
                            <span class="tech-item">Pandas</span>
                            <span class="tech-item">Overpy Library</span>
                            <span class="tech-item">Geospatial Analysis</span>
                            <span class="tech-item">CSV Processing</span>
                            <span class="tech-item">Error Handling</span>
                        </div>
                    </div>

                    <div class="sidebar-section">
                        <h3>Project Metrics</h3>
                        <div class="stats-list">
                            <div class="stat-item">
                                <span class="stat-label">Locations Processed</span>
                                <span class="stat-value">1,000+</span>
                            </div>
                            <div class="stat-item">
                                <span class="stat-label">Competitors Found</span>
                                <span class="stat-value">5,000+</span>
                            </div>
                            <div class="stat-item">
                                <span class="stat-label">Countries Covered</span>
                                <span class="stat-value">12</span>
                            </div>
                            <div class="stat-item">
                                <span class="stat-label">Processing Time</span>
                                <span class="stat-value">3 hours</span>
                            </div>
                            <div class="stat-item">
                                <span class="stat-label">Success Rate</span>
                                <span class="stat-value">94%</span>
                            </div>
                        </div>
                    </div>

                    <div class="sidebar-section">
                        <h3>Geographic Coverage</h3>
                        <div class="stats-list">
                            <div class="stat-item">
                                <span class="stat-label">Search Radius</span>
                                <span class="stat-value">2 km</span>
                            </div>
                            <div class="stat-item">
                                <span class="stat-label">Data Source</span>
                                <span class="stat-value">OpenStreetMap</span>
                            </div>
                            <div class="stat-item">
                                <span class="stat-label">Update Frequency</span>
                                <span class="stat-value">Real-time OSM</span>
                            </div>
                            <div class="stat-item">
                                <span class="stat-label">Coordinate System</span>
                                <span class="stat-value">WGS84</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="case-navigation">
                <a href="case-study-2.html" class="nav-btn">
                    <i class="fas fa-arrow-left"></i> Previous Case Study
                </a>
                <a href="case-study-4.html" class="nav-btn">
                    Next Case Study <i class="fas fa-arrow-right"></i>
                </a>
            </div>
        </div>
    </section>

    <footer class="footer">
        <div class="container">
            <p>&copy; 2025 Marcin Pawlowski. All rights reserved.</p>
        </div>
    </footer>

    <script src="script.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/components/prism-core.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/components/prism-python.min.js"></script>
    <script>
        function copyCode(button) {
            const codeBlock = button.closest('.code-block').querySelector('code');
            const text = codeBlock.textContent;
            
            navigator.clipboard.writeText(text).then(function() {
                button.innerHTML = '<i class="fas fa-check"></i>';
                setTimeout(() => {
                    button.innerHTML = '<i class="fas fa-copy"></i>';
                }, 2000);
            });
        }
    </script>

    <style>
        /* Complete Case Study Styles */
        .case-study-hero {
            background: var(--secondary-color);
            padding: 8rem 0 4rem;
            margin-top: 70px;
        }

        .case-hero-content {
            max-width: 800px;
        }

        .breadcrumb {
            color: var(--text-muted);
            margin-bottom: 2rem;
        }

        .breadcrumb a {
            color: var(--primary-color);
            text-decoration: none;
        }

        .case-study-hero h1 {
            font-size: 3rem;
            font-weight: 700;
            margin-bottom: 1rem;
            background: var(--gradient-text);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .case-subtitle {
            font-size: 1.2rem;
            color: var(--text-secondary);
            margin-bottom: 2rem;
        }

        .case-meta {
            display: flex;
            gap: 2rem;
            flex-wrap: wrap;
        }

        .meta-item {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            color: var(--text-secondary);
        }

        .meta-item i {
            color: var(--primary-color);
        }

        .case-content {
            padding: 4rem 0;
        }

        .case-grid {
            display: grid;
            grid-template-columns: 1fr 300px;
            gap: 3rem;
        }

        .case-section {
            margin-bottom: 4rem;
        }

        .case-section h2 {
            font-size: 1.8rem;
            margin-bottom: 1.5rem;
            color: var(--primary-color);
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .case-section h3 {
            font-size: 1.3rem;
            margin: 2rem 0 1rem;
            color: var(--text-primary);
        }

        .challenge-list {
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
            margin-top: 2rem;
        }

        .challenge-item {
            display: flex;
            gap: 1rem;
            padding: 1.5rem;
            background: var(--surface-color);
            border-radius: var(--border-radius);
            box-shadow: var(--shadow);
        }

        .challenge-item i {
            color: var(--primary-color);
            font-size: 1.2rem;
            margin-top: 0.2rem;
        }

        .challenge-item h4 {
            margin-bottom: 0.5rem;
            color: var(--text-primary);
        }

        .architecture-diagram {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin: 2rem 0;
            flex-wrap: wrap;
            justify-content: center;
        }

        .arch-component {
            background: var(--surface-color);
            padding: 1.5rem;
            border-radius: var(--border-radius);
            text-align: center;
            min-width: 150px;
            box-shadow: var(--shadow);
        }

        .arch-component i {
            font-size: 2rem;
            color: var(--primary-color);
            margin-bottom: 0.5rem;
        }

        .arch-component h4 {
            margin-bottom: 0.5rem;
            color: var(--text-primary);
        }

        .arch-arrow {
            font-size: 1.5rem;
            color: var(--primary-color);
        }

        .code-block {
            background: var(--surface-color);
            border-radius: var(--border-radius);
            overflow: hidden;
            margin: 1.5rem 0;
            box-shadow: var(--shadow);
        }

        .code-header {
            background: var(--background-color);
            padding: 1rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 1px solid var(--secondary-color);
        }

        .code-title {
            color: var(--primary-color);
            font-weight: 600;
        }

        .copy-btn {
            background: transparent;
            border: 1px solid var(--surface-color);
            color: var(--text-secondary);
            padding: 0.5rem;
            border-radius: 4px;
            cursor: pointer;
            transition: var(--transition);
        }

        .copy-btn:hover {
            color: var(--primary-color);
            border-color: var(--primary-color);
        }

        .code-block pre {
            margin: 0;
            padding: 1.5rem;
            overflow-x: auto;
        }

        .results-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.5rem;
            margin: 2rem 0;
        }

        .result-card {
            background: var(--surface-color);
            padding: 2rem;
            border-radius: var(--border-radius);
            text-align: center;
            box-shadow: var(--shadow);
        }

        .result-card i {
            font-size: 2.5rem;
            color: var(--primary-color);
            margin-bottom: 1rem;
        }

        .result-card h3 {
            margin-bottom: 1rem;
            color: var(--text-primary);
        }

        .case-sidebar {
            background: var(--surface-color);
            padding: 2rem;
            border-radius: var(--border-radius);
            height: fit-content;
            position: sticky;
            top: 100px;
            box-shadow: var(--shadow);
        }

        .sidebar-section {
            margin-bottom: 2rem;
        }

        .sidebar-section:last-child {
            margin-bottom: 0;
        }

        .sidebar-section h3 {
            color: var(--primary-color);
            margin-bottom: 1rem;
            font-size: 1.1rem;
        }

        .tech-stack {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
        }

        .tech-item {
            background: rgba(0, 212, 255, 0.1);
            color: var(--primary-color);
            padding: 0.3rem 0.8rem;
            border-radius: 15px;
            font-size: 0.8rem;
            font-weight: 500;
        }

        .stats-list {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .stat-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0.5rem 0;
            border-bottom: 1px solid var(--secondary-color);
        }

        .stat-label {
            color: var(--text-secondary);
            font-size: 0.9rem;
        }

        .stat-value {
            color: var(--primary-color);
            font-weight: 600;
        }

        .case-navigation {
            display: flex;
            justify-content: space-between;
            margin-top: 4rem;
            padding-top: 2rem;
            border-top: 1px solid var(--surface-color);
        }

        .nav-btn {
            padding: 1rem 2rem;
            background: var(--surface-color);
            color: var(--text-primary);
            text-decoration: none;
            border-radius: var(--border-radius);
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .nav-btn:hover {
            background: var(--primary-color);
            color: white;
            transform: translateY(-2px);
        }

        .learning-item {
            background: var(--surface-color);
            padding: 1.5rem;
            border-radius: var(--border-radius);
            margin-bottom: 1.5rem;
            box-shadow: var(--shadow);
        }

        .learning-item h4 {
            color: var(--primary-color);
            margin-bottom: 0.5rem;
        }

        .enhancement-list {
            list-style: none;
            padding: 0;
        }

        .enhancement-list li {
            background: var(--surface-color);
            padding: 1rem;
            border-radius: var(--border-radius);
            margin-bottom: 1rem;
            border-left: 4px solid var(--primary-color);
        }

        /* Geospatial-specific styles */
        .pipeline-stages {
            display: flex;
            flex-direction: column;
            gap: 1rem;
            margin: 2rem 0;
        }

        .stage {
            display: flex;
            gap: 1rem;
            background: var(--surface-color);
            padding: 1.5rem;
            border-radius: var(--border-radius);
            box-shadow: var(--shadow);
        }

        .stage-number {
            width: 40px;
            height: 40px;
            background: var(--gradient);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 700;
            flex-shrink: 0;
        }

        .stage-content h4 {
            color: var(--primary-color);
            margin-bottom: 0.5rem;
        }

        .insights-section {
            margin-top: 3rem;
        }

        .insight-item {
            background: var(--surface-color);
            padding: 1.5rem;
            border-radius: var(--border-radius);
            margin-bottom: 1.5rem;
            border-left: 4px solid var(--primary-color);
        }

        .insight-item h4 {
            color: var(--primary-color);
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .tech-details {
            margin: 2rem 0;
        }

        .detail-item {
            background: var(--surface-color);
            padding: 1.5rem;
            border-radius: var(--border-radius);
            margin-bottom: 1.5rem;
            box-shadow: var(--shadow);
        }

        .detail-item h4 {
            color: var(--primary-color);
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .feature-list {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
            margin-top: 1rem;
        }

        .feature-list span {
            background: rgba(0, 212, 255, 0.1);
            color: var(--primary-color);
            padding: 0.3rem 0.8rem;
            border-radius: 15px;
            font-size: 0.8rem;
            font-weight: 500;
        }

        .schema-table {
            overflow-x: auto;
            margin: 2rem 0;
        }

        .schema-table table {
            width: 100%;
            border-collapse: collapse;
            background: var(--surface-color);
            border-radius: var(--border-radius);
            overflow: hidden;
            box-shadow: var(--shadow);
        }

        .schema-table th {
            background: var(--background-color);
            color: var(--primary-color);
            padding: 1rem;
            text-align: left;
            font-weight: 600;
        }

        .schema-table td {
            padding: 0.8rem 1rem;
            border-bottom: 1px solid var(--background-color);
            color: var(--text-secondary);
        }

        .schema-table td:first-child {
            color: var(--text-primary);
            font-weight: 500;
            font-family: 'Courier New', monospace;
        }

        .schema-table tr:last-child td {
            border-bottom: none;
        }

        .impact-metrics {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 2rem;
            margin: 2rem 0;
        }

        .impact-item {
            background: var(--surface-color);
            padding: 2rem;
            border-radius: var(--border-radius);
            text-align: center;
            box-shadow: var(--shadow);
        }

        .impact-number {
            font-size: 3rem;
            font-weight: 700;
            color: var(--primary-color);
            margin-bottom: 0.5rem;
        }

        .impact-label {
            font-size: 1.1rem;
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: 1rem;
        }

        .impact-item p {
            color: var(--text-secondary);
            font-size: 0.9rem;
        }

        /* Responsive adjustments */
        @media (max-width: 768px) {
            .pipeline-stages {
                gap: 0.5rem;
            }

            .stage {
                flex-direction: column;
                align-items: flex-start;
            }

            .stage-number {
                align-self: flex-start;
            }

            .schema-table {
                font-size: 0.9rem;
            }

            .schema-table th,
            .schema-table td {
                padding: 0.5rem;
            }
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .case-study-hero h1 {
                font-size: 2rem;
            }

            .case-grid {
                grid-template-columns: 1fr;
                gap: 2rem;
            }

            .architecture-diagram {
                flex-direction: column;
            }

            .arch-arrow {
                transform: rotate(90deg);
            }

            .case-meta {
                flex-direction: column;
                gap: 1rem;
            }

            .case-navigation {
                flex-direction: column;
                gap: 1rem;
            }

            .pipeline-stages {
                gap: 0.5rem;
            }

            .stage {
                flex-direction: column;
                align-items: flex-start;
            }

            .stage-number {
                align-self: flex-start;
            }

            .schema-table {
                font-size: 0.9rem;
            }

            .schema-table th,
            .schema-table td {
                padding: 0.5rem;
            }

            .impact-metrics {
                grid-template-columns: 1fr;
            }

            .metrics-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</body>
</html>